{
  "name": "tempodb",
  "description": "A Node.js client for TempoDB",
  "version": "0.5.0",
  "author": {
    "name": "Andrew J Cronk",
    "email": "andy@tempo-db.com"
  },
  "keywords": [
    "tempodb",
    "time-series",
    "database"
  ],
  "main": "tempodb",
  "readme": "# TempoDB Node.js API Client\n\nThe TempoDB Node.js API Client makes calls to the [TempoDB API](http://tempo-db.com/api/).  The module is available on npm as tempodb.\n\n1. Install tempodb\n\n```\nnpm install tempodb\n```\n\n1. After installing tempodb, download [tempodb-write-demo.js](https://github.com/tempodb/tempodb-node-js/blob/master/demo/tempodb-write-demo.js).\n\n1. Edit *your-api-key* and *your-api-secret* in tempodb-write-demo.js.\n\n1. Run tempodb-write-demo.js to insert 10 days worth of test data.\n\n```\nnode tempodb-write-demo\n```\n\n1. Download [tempodb-read-demo.js](https://github.com/tempodb/tempodb-node-js/blob/master/demo/tempodb-read-demo.js)\n\n1. Edit *your-api-key* and *your-api-secret* in tempodb-read-demo.js.\n\n1. Run tempodb-read-demo.js to read back the data you just wrote in.\n\n```\nnode tempodb-read-demo\n```\n\n# TempoDBClient Object\n\nStores the session information for authenticating and accessing TempoDB.  You can specify an optional hostname, port, protocol (http or https), and version. This is used if you are on a private cluster.\nThe default hostname and port should work for the standard cluster.\n\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n\n\nYou can specify an optional third argument Object to TempoDBClient\n\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret', {hostname: 'your-host.name', port: 123});\n\n### Options\n* *hostname* (string) default: 'api.tempo-db.com'\n* *port* (Integer) default: 443\n* *secure* (Boolean) default: true\n* *version* (string) default: 'v1'\n\n\n# API\n\n## Callbacks and returned Objects\nMost of the API functions allow you to pass in an optional *callback* function.  In general, the callback function is passed a single argument Object with two parameters:\n\n* *response* (Integer) - the HTTP response code\n* *body* (Object or string)- the parsed JSON body of successful API calls.  For calls that return error codes, the plain text body is returned.\n\nHowever, You can supply a second argument to the callback function that will capture any errors with the call. This error object will contain the standard node.js HTTP library error objects. An example of this usage.\n\n    tempodb.read_key(series_key, series_start_date, series_end_date, options, function(result, error) {\n      if(error) throw error;\n      // Do something with result.\n    });\n\n\nThe return types below show what is returned in the *body* parameter of successful calls.\n\n## TempoDBClient#create_series(*key*, *callback*)\nCreates a new series with an optionally specified key.  If no key is given, only the system generated id is returned.\n\n### Parameters\n\n* key - key for the series (string)\n\n### Returns\nThe newly created series object\n\n    {\n     \"id\":\"71a81e6936c24274b6bb53c57004af8b\",\n     \"key\":\"my-custom-key\",\n     \"name\":\"\",\n     \"attributes\":{},\n     \"tags\":[]\n    }\n\n### Example\n\nThe following example creates two series: one with a given key of \"my-custom-key\" and one without a key specified.\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n\n    var series1, series2;\n\n    tempodb.create_series('my-custom-key'), function(result) {\n        if (result.response == 200) {\n            series1 = result.body;\n        }\n    });\n\n    tempodb.create_series(null, function(result) {\n        if (result.response == 200) {\n            series2 = result.body;\n        }\n    });\n\n\n## TempoDBClient#get_series(*options*, *callback*)\nGets a list of series objects, optionally filtered by the provided parameters. Series can be filtered by id, key, tag and\nattribute.\n\n### Parameters\n\n* options is an object containing any of the following\n    * id - an array of ids to include (array of strings)\n        * can also pass single string if only one id\n    * key - an array of keys to include (array of strings)\n        * can also pass single string if only one key\n    * tag - an array of tags to filter on. These tags are and'd together (array of strings)\n    * attr - an object of attribute key/value pairs to filter on. These attributes are and'd together. (object)\n\n### Returns\nAn array of series objects\n\n    [\n      {\n        \"id\":\"6ee327867a9f45a5b4d9feb5601897ab\",\n        \"key\":\"Daily_Rainfall\",\n        \"name\":\"\",\n        \"attributes\":{},\n        \"tags\":[]\n      },\n      {\n        \"id\":\"da06acfe538249a69c22c212149142b3\",\n        \"key\":\"1\",\n        \"name\":\"\",\n        \"attributes\":{},\n        \"tags\":[]\n      }\n    ]\n\n### Example\n\nThe following example returns all series with tags \"tag1\" and \"tag2\" and attribute \"attr1\" equal to \"value1\".\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result.response+': '+ JSON.stringify(result.body)); }\n\n    var options = {\n        tag: ['tag1', 'tag2'],\n        attr: { attr1: 'value1'}\n    }\n\n    tempodb.get_series(options, function(result){\n        if (result.response == 200) {\n            var series_list = result.body;\n\n            for (var i = 0; i < series_list.length; i++) {\n                var series = series_list[i];\n                console.log(series.id, series.key);\n            }\n        }\n    });\n\n\n## TempoDBClient#update_series(*series_id*, *series_key*, *name*, *attributes*, *tags*, *callback*)\nUpdates a series.  Currently, only tags and attributes can be modified. The easiest way to use this method is through a read-modify-write cycle.\n\n### Parameters\n\n* series_id - id for the series (string)\n* series_key - key for the series (string)\n* name - name of the series (string)\n* attributes - an object of attribute key/value pairs (object)\n* tags - an array of tags (array of strings)\n\n### Returns\nThe updated series object\n\n    {\n      \"id\":\"92a81e6936c24274b6bb53c57004afce\",\n      \"key\":\"test1\",\n      \"name\":\"\",\n      \"attributes\":{unit: 'Fahrenheit', user_id: 27},\n      \"tags\":['foo', 'bar']\n    }\n\n### Example\n\nThe following example reads the list of series with key *test1* (should only be one) and replaces the tags and attributes.\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result.response+': '+ JSON.stringify(result.body)); }\n\n    var options = {\n        key: 'test1'\n    }\n\n    tempodb.get_series(options, function(result) {\n        if (result.response == 200) {\n            var series = result.body[0];\n            var new_tags = ['foo', 'bar'];\n            var new_attr = {unit: 'Fahrenheit', user_id: 27};\n            tempodb.update_series(series.id, series.key, series.name, new_attr, new_tags, cb);\n        }\n    });\n\n## TempoDBClient#delete_series(*options*, callback)\nDelete series objects by the given filter criteria.\nThis method has the same query parameters as `get_series`. Series can be\ndeleted by id, key, tag and attribute. You must specify at least one filter\nquery param for deletion. If you want to truncate your database (remove all\nseries), you must specify `allow_truncation: true`.\n\n### Parameters\n* id - an array of ids to include (Array of strings)\n* key - an array of keys to include (Array of strings)\n* tag - an array of tags to filter on. These tags are and'd together (Array of strings)\n* attr - a object of key/value pairs to filter on. These attributes are and'd together. (Object)\n* allow_truncation - a boolean that must be passed when you wish to delete all your series. Mutually exclusive with the filter query parameters. (Boolean)\n\n### Returns\nA summary of the delete operation, the value deleted is the number of series deleted.\n\n    { response: 200, body: { deleted: 7 } }\n\n### Example\n\nThe following example deletes all series with \"tag1\" and \"tag2\" and attribute \"attr1\" equal to \"value1\".\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result); }\n\n    var tags = ['tag1', 'tag2'];\n    var attributes = { attr1: \"value1\" };\n\n    var options = {\n      tag: ['tag1', 'tag2'],\n      attr: {\n        attr1: \"value1\"\n      }\n    };\n\n    tempodb.delete_series(options, cb);\n\n## TempoDBClient#read(*start*, *end*, *options*, *callback*)\nGets one or more series and corresponding time series data between the specified start and end dates.  The optional interval parameter allows you to specify a rollup period. For example, \"1hour\" will roll the data up on the hour using the provided function. The function parameter specifies the folding function to use while rolling the data up. A rollup is selected automatically if no interval or function is given. The auto rollup interval is calculated by the total time range (end - start) as follows:\n\n* range <= 2 days - raw data is returned\n* range <= 30 days - data is rolled up on the hour\n* else - data is rolled up by the day\n\nRollup intervals are specified by a number and a time period. For example, 1day or 5min. Supported time periods:\n\n* min\n* hour\n* day\n* month\n* year\n\nSupported rollup functions:\n\n* sum\n* max\n* min\n* avg or mean\n* stddev (standard deviation)\n* count\n\nYou can also retrieve raw data by specifying \"raw\" as the interval. The series to query can be filtered using the remaining parameters.\n\n### Parameters\n\n* start - start time for the query (Date)\n* end - end time for the query (Date)\n\n* options is an object containing any of the following\n    * interval - the rollup interval (string)\n    * function - the rollup folding function (string)\n    * id - an array of ids to include (array of strings)\n        * can also pass single string if only one id\n    * key - an array of keys to include (array of strings)\n        * can also pass single string if only one key\n    * tag - an array of tags to filter on. These tags are and'd together (array of strings)\n    * attr - an object of attribute key/value pairs to filter on. These attributes are and'd together. (object)\n    * tz - desired output timezone (string).  [View valid timezones](http://tempo-db.com/docs/api/timezone/).\n\n\n\n### Returns\n\nAn array of Objects containing the series information, time series data, and a summary of statistics for the specified time period.\n\n    [\n        {\n            series: {\n                id: '6fefeba655504694b21235acf8cdae5f',\n                key: 'your-custom-key',\n                name: '',\n                attributes: {},\n                tags: []\n            },\n            start: '2012-01-01T00:00:00.000+0000',\n            end: '2012-01-02T00:00:00.000+0000',\n            data: [\n                { t: '2012-01-01T00:00:00.000+0000', v: 23.559637793913357 },\n                { t: '2012-01-01T01:00:00.000+0000', v: 24.887018265425514 },\n                { t: '2012-01-01T02:00:00.000+0000', v: 24.103298434838965 },\n                ...\n                { t: '2012-01-01T23:00:00.000+0000', v: 23.1820437503413 }\n            ],\n            rollup: {\n                interval: 1hour,\n                'function': 'mean',\n                'tz': 'America/Chicago'\n            },\n            summary: {\n                sum: 35680.95450980151,\n                mean: 24.778440631806603,\n                max: 49.96850016748075,\n                min: 0.057467774982028486,\n                stddev: 14.356117758209086,\n                ss: 296575.1904890079,\n                count: 1440\n            }\n         },\n         {\n            series: {\n                id: '235fa655504694b21235acf8ae3415',\n                key: 'your-custom-key-2',\n                name: '',\n                attributes: {},\n                tags: []\n            },\n            start: '2012-01-01T00:00:00.000+0000',\n            end: '2012-01-02T00:00:00.000+0000',\n            data: [\n                { t: '2012-01-01T00:00:00.000+0000', v: 17.43 },\n                { t: '2012-01-01T01:00:00.000+0000', v: 21.42232 },\n                { t: '2012-01-01T02:00:00.000+0000', v: 20.32423 },\n                ...\n                { t: '2012-01-01T23:00:00.000+0000', v: 19.5431 }\n            ],\n            summary: {\n                sum: 23680.95450980151,\n                mean: 15.778440631806603,\n                max: 50.96850016748075,\n                min: 0.03746777498202845,\n                stddev: 11.34217758209086,\n                ss: 196213.1904890079,\n                count: 1440\n            }\n         }\n     ]\n\n### Example\n\nThe following example reads the list of series with key *your-custom-key* (should only be one) and returns the data rolled up to an hourly average.\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result.response+': '+ JSON.stringify(result.body)); }\n\n    var series_key = 'your-custom-key';\n    series_start_date = new Date('2012-01-01');\n    series_end_date = new Date('2012-01-02');\n\n    var options = {\n        key: series_key,\n        interval: '1hour',\n        'function': 'mean',\n        tz: 'America/Chicago'\n    }\n\n    tempodb.read(series_start_date, series_end_date, options, function(result){\n        for (var i = 0; i < result.body.length; i++) {\n            var series = result.body[i];\n            console.log(series);\n        }\n    });\n\n\n## TempoDBClient#read_id(*series_id*, *start*, *end*, *options*, *callback*)\nGets a single series by id and corresponding time series data between the specified start and end dates.  The same rollup rules apply as with the read() function above.\n\n### Parameters\n\n* series_id - id for the series to read from (string)\n* start - start time for the query (Date)\n* end - end time for the query (Date)\n\n* options is an object containing any of the following\n    * interval - the rollup interval (string)\n    * function - the rollup folding function (string)\n    * id - an array of ids to include (array of strings)\n        * can also pass single string if only one id\n    * key - an array of keys to include (array of strings)\n        * can also pass single string if only one key\n    * tag - an array of tags to filter on. These tags are and'd together (array of strings)\n    * attr - an object of attribute key/value pairs to filter on. These attributes are and'd together. (object)\n    * tz - desired output timezone (string).  [View valid timezones](http://tempo-db.com/docs/api/timezone/).\n\n\n\n### Returns\n\nAn Object containing the series information, time series data, and a summary of statistics for the specified time period.\n\n    {\n        series: {\n            id: '6fefeba655504694b21235acf8cdae5f',\n            key: 'your-custom-key',\n            name: '',\n            attributes: {},\n            tags: []\n        },\n        start: '2012-01-01T00:00:00.000+0000',\n        end: '2012-01-02T00:00:00.000+0000',\n        data: [\n            { t: '2012-01-01T00:00:00.000+0000', v: 23.559637793913357 },\n            { t: '2012-01-01T01:00:00.000+0000', v: 24.887018265425514 },\n            { t: '2012-01-01T02:00:00.000+0000', v: 24.103298434838965 },\n            ...\n            { t: '2012-01-01T23:00:00.000+0000', v: 23.1820437503413 }\n        ],\n        rollup: {\n            interval: 1day,\n            'function': 'min',\n            'tz': 'America/Chicago'\n        },\n        summary: {\n            sum: 35680.95450980151,\n            mean: 24.778440631806603,\n            max: 49.96850016748075,\n            min: 0.057467774982028486,\n            stddev: 14.356117758209086,\n            ss: 296575.1904890079,\n            count: 1440\n        }\n     }\n\n### Example\n\nThe following example reads data for the series with id *6fefeba655504694b21235acf8cdae5f* and returns the minimum datapoint for each day.\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result.response+': '+ JSON.stringify(result.body)); }\n\n    var series_id = '6fefeba655504694b21235acf8cdae5f';\n    series_start_date = new Date('2012-01-01');\n    series_end_date = new Date('2012-01-14');\n\n    var options = {\n        interval: '1day',\n        'function': 'min',\n        tz: 'America/Chicago'\n    }\n\n    tempodb.read_id(series_id, series_start_date, series_end_date, options, cb);\n\n\n## TempoDBClient#read_key(*series_key*, *start*, *end*, *options*, *callback*)\nGets a single series by key and corresponding time series data between the specified start and end dates.  The same rollup rules apply as with the read() function above.\n\n### Parameters\n\n* series_key - key for the series to read from (string)\n* start - start time for the query (Date)\n* end - end time for the query (Date)\n\n* options is an object containing any of the following\n    * interval - the rollup interval (string)\n    * function - the rollup folding function (string)\n    * id - an array of ids to include (array of strings)\n        * can also pass single string if only one id\n    * key - an array of keys to include (array of strings)\n        * can also pass single string if only one key\n    * tag - an array of tags to filter on. These tags are and'd together (array of strings)\n    * attr - an object of attribute key/value pairs to filter on. These attributes are and'd together. (object)\n    * tz - desired output timezone (string).  [View valid timezones](http://tempo-db.com/docs/api/timezone/).\n\n\n\n### Returns\n\nAn Object containing the series information, time series data, and a summary of statistics for the specified time period.\n\n    {\n        series: {\n            id: '6fefeba655504694b21235acf8cdae5f',\n            key: 'your-custom-key',\n            name: '',\n            attributes: {},\n            tags: []\n        },\n        start: '2012-01-01T00:00:00.000+0000',\n        end: '2012-01-02T00:00:00.000+0000',\n        data: [\n            { t: '2012-01-01T00:00:00.000+0000', v: 23.559637793913357 },\n            { t: '2012-01-01T01:00:00.000+0000', v: 24.887018265425514 },\n            { t: '2012-01-01T02:00:00.000+0000', v: 24.103298434838965 },\n            ...\n            { t: '2012-01-01T23:00:00.000+0000', v: 23.1820437503413 }\n        ],\n        rollup: {\n            interval: 1day,\n            'function': 'min',\n            'tz': 'America/Chicago'\n        },\n        summary: {\n            sum: 35680.95450980151,\n            mean: 24.778440631806603,\n            max: 49.96850016748075,\n            min: 0.057467774982028486,\n            stddev: 14.356117758209086,\n            ss: 296575.1904890079,\n            count: 1440\n        }\n     }\n\n### Example\n\nThe following example reads data for the series with id *your-custom-key* and returns the minimum datapoint for each day.\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result.response+': '+ JSON.stringify(result.body)); }\n\n    var series_key = 'your-custom-key';\n    series_start_date = new Date('2012-01-01');\n    series_end_date = new Date('2012-01-14');\n\n    var options = {\n        interval: '1day',\n        'function': 'min',\n        tz: 'America/Chicago'\n    }\n\n    tempodb.read_key(series_key, series_start_date, series_end_date, options, cb);\n\n\n## TempoDBClient#single_value_by_id(*series_id*, *ts*, *options*, *callback*)\nRequests a single value for the series specified by id. This will return a datapoint exactly determined by the supplied timestamp (ts) or this function can also search for datapoints.\n\n### Parameters\n\n* series_id - id for the series to retrieve single value (string)\n* ts - the requested timestamp for a datapoint. (DateTime)\n* options - An object containing the following\n    * direction - the specified search direction (string). Options are:\n        * exact - returns the datapoint exactly at the timestamp (Default)\n        * before - returns the datapoint exactly at the timestamp or searches backwards in time for the next datapoint\n        * after - returns the datapoint exactly at the timestamp or searches forwards in time for the next datapoint\n        * nearest - returns the datapoint exactly at the timestamp or searches both backwards and forwards and returns the datapoint closest to the timestamp\n\n### Returns\n\nAn Object containing the series object and the datapoint.\n\n    {\n        series: {\n            id: '6fefeba655504694b21235acf8cdae5f',\n            key: 'your-custom-key',\n            name: '',\n            attributes: {},\n            tags: []\n        },\n        data: { t: '2012-01-01T00:00:00.000+0000', v: 23.559637793913357 }\n    }\n\nNote: the data field will be null if no datapoint was found.\n\n## Example\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result.response+': '+ JSON.stringify(result.body)); }\n\n    var series_id = '6fefeba655504694b21235acf8cdae5f';\n    var ts = new Date('2012-01-01');\n\n    var options = {\n        direction: 'nearest'\n    }\n\n    tempodb.single_value_by_id(series_id, ts, options, cb);\n\n\n## TempoDBClient#single_value_by_key(*series_key*, *ts*, *options*, *callback*)\nRequests a single value for the series specified by key. This will return a datapoint exactly determined by the supplied timestamp (ts) or this function can also search for datapoints.\n\n### Parameters\n\n* series_key - key for the series to retrieve single value (string)\n* ts - the requested timestamp for a datapoint. (DateTime)\n* options - An object containing the following\n    * direction - the specified search direction (string). Options are:\n        * exact - returns the datapoint exactly at the timestamp (Default)\n        * before - returns the datapoint exactly at the timestamp or searches backwards in time for the next datapoint\n        * after - returns the datapoint exactly at the timestamp or searches forwards in time for the next datapoint\n        * nearest - returns the datapoint exactly at the timestamp or searches both backwards and forwards and returns the datapoint closest to the timestamp\n\n### Returns\n\nAn Object containing the series object and the datapoint.\n\n    {\n        series: {\n            id: '6fefeba655504694b21235acf8cdae5f',\n            key: 'your-custom-key',\n            name: '',\n            attributes: {},\n            tags: []\n        },\n        data: { t: '2012-01-01T00:00:00.000+0000', v: 23.559637793913357 }\n    }\n\nNote: the data field will be null if no datapoint was found.\n\n## Example\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result.response+': '+ JSON.stringify(result.body)); }\n\n    var series_key = 'your-custom-key';\n    var ts = new Date('2012-01-01');\n\n    var options = {\n        direction: 'before'\n    }\n\n    tempodb.single_value_by_key(series_key, ts, options, cb);\n\n\n## TempoDBClient#single_value(*ts*, *options*, *callback*)\nRequests a single value for all the series specified by the filter criteria. This will return a datapoint exactly determined by the supplied timestamp (ts) or this function can also search for datapoints.\n\n### Parameters\n\n* ts - the requested timestamp for a datapoint. (DateTime)\n* options - An object containing the following\n    * id - an array of ids to include (Array of strings)\n    * key - an array of keys to include (Array of strings)\n    * tag - an array of tags to filter on. These tags are and'd together (Array of strings)\n    * attr - a object of key/value pairs to filter on. These attributes are and'd together. (Object)\n    * direction - the specified search direction (string). Options are:\n        * exact - returns the datapoint exactly at the timestamp (Default)\n        * before - returns the datapoint exactly at the timestamp or searches backwards in time for the next datapoint\n        * after - returns the datapoint exactly at the timestamp or searches forwards in time for the next datapoint\n        * nearest - returns the datapoint exactly at the timestamp or searches both backwards and forwards and returns the datapoint closest to the timestamp\n\n### Returns\n\nA list of Objects containing the series object and the datapoint.\n\n    [{\n        series: {\n            id: '38268c3b231f1266a392931e15e99231',\n            key: 'my-other-series',\n            name: '',\n            attributes: {},\n            tags: ['tag1', 'tag2']\n        },\n        data: { t: '2012-01-01T00:01:00.000+0000', v: 55.9613357 }\n    },\n    {\n        series: {\n            id: '6fefeba655504694b21235acf8cdae5f',\n            key: 'your-custom-key',\n            name: '',\n            attributes: {},\n            tags: ['tag1', 'tag2']\n        },\n        data: { t: '2012-01-01T00:00:00.000+0000', v: 23.559637793913357 }\n    }]\n\nNote: the data field will be null if no datapoint was found.\n\n## Example\n\nThis example will return a list of single value responses for all series with both tags (\"tag1\", \"tag2\")\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result.response+': '+ JSON.stringify(result.body)); }\n\n    var ts = new Date('2012-01-01');\n    var options = {\n        tag = [\"tag1\", \"tag2\"],\n        direction: 'exactly'\n    }\n\n    tempodb.single_value(ts, options, cb);\n\n\n## TempoDBClient#write_id(*series_id*, *data*, *callback*)\nWrite datapoints to the specified series id.\n\n### Parameters\n\n* series_id - id for the series to write to (string)\n* data - the data to write (Array of {t, v} Objects)\n\n### Returns\n\nNothing\n\n### Example\n\nThe following example writes three datapoints to the series with id *6fefeba655504694b21235acf8cdae5f*.\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result.response+': '+ JSON.stringify(result.body)); }\n\n    var series_id = '6fefeba655504694b21235acf8cdae5f';\n\n    var data = [\n        { t: new Date(\"2012-01-12 14:11:00\"), v: 55.231 },\n        { t: new Date(\"2012-01-12 14:12:00\"), v: 47.143 },\n        { t: new Date(\"2012-01-12 14:13:00\"), v: 49.856 }\n    ];\n\n    tempodb.write_id(series_id, data, cb);\n\n\n## TempoDBClient#write_key(*series_key*, *data*, *callback*)\nWrite datapoints to the specified series key.\n\n### Parameters\n\n* series_key - key for the series to write to (string)\n* data - the data to write (Array of {t, v} Objects)\n\n### Returns\n\nNothing\n\n### Example\n\nThe following example writes three datapoints to the series with key *your-custom-key*.\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result.response+': '+ JSON.stringify(result.body)); }\n\n    var series_key = 'your-custom-key';\n\n    var data = [\n        { t: new Date(\"2012-01-12 14:11:00\"), v: 55.231 },\n        { t: new Date(\"2012-01-12 14:12:00\"), v: 47.143 },\n        { t: new Date(\"2012-01-12 14:13:00\"), v: 49.856 }\n    ];\n\n    tempodb.write_key(series_key, data, cb);\n\n\n## TempoDBClient#write_bulk(*ts*, *data*, *callback*)\nWrite datapoints to multiple series for a single timestamp.  This function takes a timestamp and a parameter called data which is an Array of Objects containing either the series id or series key and the value.  For example:\n\n    data = [\n        { id: \"6fefeba655504694b21235acf8cdae5f\", v: 14.3654 },\n        { id: \"01868c1a2aaf416ea6cd8edd65e7a4b8\", v: 27.234 },\n        { key: \"your-custom-key\", v: 1 },\n        { key: \"your-custom-key-2\", v: 34.654 },\n        { id: \"38268c3b231f1266a392931e15e99231\", v: 9912.75 },\n    ];\n\n### Parameters\n\n* ts - the timestamp for the datapoints\n* data - the data to write (Array of {id, v} or {key, v} Objects)\n\n### Returns\n\nNothing\n\n### Example\n\nThe following example writes 5 separate series at the same timestamp.\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result.response+': '+ JSON.stringify(result.body)); }\n\n    var ts = new Date(\"2012-01-12 14:13:09\");\n\n    data = [\n        { id: \"6fefeba655504694b21235acf8cdae5f\", v: 14.3654 },\n        { id: \"01868c1a2aaf416ea6cd8edd65e7a4b8\", v: 27.234 },\n        { key: \"your-custom-key\", v: 1 },\n        { key: \"your-custom-key-2\", v: 34.654 },\n        { id: \"38268c3b231f1266a392931e15e99231\", v: 9912.75 },\n    ];\n\n    tempodb.write_bulk(ts, data, cb);\n\n\n## TempoDBClient#write_multi(*data*, *callback*)\nWrite datapoints to multiple series for multiple timestamps. This function takes an Array of Objects containing the timestamp, either the series id or series key, and the value.  For example:\n\n    data = [\n        { t: new Date(\"2012-01-12 14:11:00\"), id: \"6fefeba655504694b21235acf8cdae5f\", v: 14.3654 },\n        { t: new Date(\"2012-01-12 14:12:00\"), id: \"01868c1a2aaf416ea6cd8edd65e7a4b8\", v: 27.234 },\n        { t: new Date(\"2012-01-12 14:13:00\"), key: \"your-custom-key\", v: 1 },\n        { t: new Date(\"2012-01-12 14:13:00\"), key: \"your-custom-key-2\", v: 34.654 },\n        { t: new Date(\"2012-01-12 14:13:00\"), id: \"38268c3b231f1266a392931e15e99231\", v: 9912.75 }\n    ];\n\n### Parameters\n\n* data - the data to write (Array of {t, id, v} or {t, key, v} Objects)\n\n### Returns\n\nThe return body is either empty on success (response code will be 200) or contains a JSON object with a list of response objects in event of a single or multi-point failure (response code will be 207). Each response object contains a status code and an Array of error messages. This Array has a one to one correspondence with the original Array. For example if you submitted this Array:\n\n    data = [\n        { t: new Date(\"2012-01-12 14:11:00\"), v: 123.4},\n        { t: new Date(\"2012-01-12 14:11:00\"), key:'your- custom-key', v:531},\n        {}\n    ]\n\nYou would recieve a 207 in the response code and this Array in the response body:\n\n    {\n      multistatus: [\n        { status: \"422\", messages: [ \"Must provide a series ID or key\" ] },\n        { status: \"200\", messages: [] },\n        { status: \"422\", messages: [\n                                    \"Must provide a numeric value\",\n                                    \"Must provide a series ID or key\"\n                                   ]\n        }\n      ]\n    }\n\n\n### Example\n\nThe following example writes 5 separate series at the same timestamp.\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result.response+': '+ JSON.stringify(result.body)); }\n\n    data = [\n        { t: new Date(\"2012-01-12 14:11:00\"), key: \"your-custom-key\", v: 14.3654 },\n        { t: new Date(\"2012-01-12 14:12:00\"), id: \"01868c1a2aaf416ea6cd8edd65e7a4b8\", v: 27.234 },\n        { t: new Date(\"2012-01-12 14:13:00\"), key: \"your-custom-key\", v: 1 },\n        { t: new Date(\"2012-01-12 14:13:00\"), key: \"your-custom-key-2\", v: 34.654 },\n        { t: new Date(\"2012-01-12 14:13:00\"), id: \"38268c3b231f1266a392931e15e99231\", v: 9912.75 }\n    ];\n\n    tempodb.write_multi(data, cb);\n\n\n## TempoDBClient#increment_id(*series_id*, *data*, *callback*)\nIncrements the value of the specified series id at the given timestamp. The value of the datapoint is the amount to increment (can be a positive or negative value). This is similar to a write, however the value is incremented by the datapoint value instead of overwritten. Values are incremented atomically, so this is useful for counting events.\n\n### Parameters\n\n* series_id - id for the series to increment (string)\n* data - the data to write (Array of {t, v} Objects)\n\n### Returns\n\nNothing\n\n### Example\n\nThe following example writes three datapoints to the series with id *6fefeba655504694b21235acf8cdae5f*.\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result.response+': '+ JSON.stringify(result.body)); }\n\n    var series_id = '6fefeba655504694b21235acf8cdae5f';\n\n    var data = [\n        { t: new Date(\"2012-01-12 14:11:00\"), v: 1 },\n        { t: new Date(\"2012-01-12 14:12:00\"), v: 5 },\n        { t: new Date(\"2012-01-12 14:13:00\"), v: -3 }\n    ];\n\n    tempodb.increment_id(series_id, data, cb);\n\n\n## TempoDBClient#increment_key(*series_key*, *data*, *callback*)\nIncrements the value of the specified series key at the given timestamp. The value of the datapoint is the amount to increment (can be a positive or negative value). This is similar to a write, however the value is incremented by the datapoint value instead of overwritten. Values are incremented atomically, so this is useful for counting events.  Note: a series will be created if the provided key does not exist.\n\n### Parameters\n\n* series_key - key for the series to write to (string)\n* data - the data to write (Array of {t, v} Objects)\n\n### Returns\n\nNothing\n\n### Example\n\nThe following example writes three datapoints to the series with key *your-custom-key*.\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result.response+': '+ JSON.stringify(result.body)); }\n\n    var series_key = 'your-custom-key';\n\n    var data = [\n        { t: new Date(\"2012-01-12 14:11:00\"), v: 55.231 },\n        { t: new Date(\"2012-01-12 14:12:00\"), v: 47.143 },\n        { t: new Date(\"2012-01-12 14:13:00\"), v: 49.856 }\n    ];\n\n    tempodb.increment_key(series_key, data, cb);\n\n\n## TempoDBClient#increment_bulk(*ts*, *data*, *callback*)\nWrite datapoints to multiple series for a single timestamp.  This function takes a timestamp and a parameter called data which is an Array of Objects containing either the series id or series key and the value.  For example:\n\n    data = [\n        { id: \"6fefeba655504694b21235acf8cdae5f\", v: 1 },\n        { id: \"01868c1a2aaf416ea6cd8edd65e7a4b8\", v: 5 },\n        { key: \"your-custom-key\", v: 1 },\n        { key: \"your-custom-key-2\", v: -7 },\n        { id: \"38268c3b231f1266a392931e15e99231\", v: 10 },\n    ];\n\n### Parameters\n\n* ts - the timestamp for the datapoints\n* data - the data to write (Array of {id, v} or {key, v} Objects)\n\n### Returns\n\nNothing\n\n### Example\n\nThe following example increments 5 separate series at the same timestamp.\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result.response+': '+ JSON.stringify(result.body)); }\n\n    var ts = new Date(\"2012-01-12 14:13:09\");\n\n    data = [\n        { id: \"6fefeba655504694b21235acf8cdae5f\", v: 1 },\n        { id: \"01868c1a2aaf416ea6cd8edd65e7a4b8\", v: 5 },\n        { key: \"your-custom-key\", v: 1 },\n        { key: \"your-custom-key-2\", v: -7 },\n        { id: \"38268c3b231f1266a392931e15e99231\", v: 10 }\n    ];\n\n    tempodb.increment_bulk(ts, data, cb);\n\n\n## TempoDBClient#increment_multi(*data*, *callback*)\nIncrement datapoints to multiple series for multiple timestamps. This function takes an Array of Objects containing the timestamp, either the series id or series key, and the value.  For example:\n\n    data = [\n        { t: new Date(\"2012-01-12 14:11:00\"), id: \"6fefeba655504694b21235acf8cdae5f\", v: 14.3654 },\n        { t: new Date(\"2012-01-12 14:12:00\"), id: \"01868c1a2aaf416ea6cd8edd65e7a4b8\", v: 27.234 },\n        { t: new Date(\"2012-01-12 14:13:00\"), key: \"your-custom-key\", v: 1 },\n        { t: new Date(\"2012-01-12 14:13:00\"), key: \"your-custom-key-2\", v: 34.654 },\n        { t: new Date(\"2012-01-12 14:13:00\"), id: \"38268c3b231f1266a392931e15e99231\", v: 9912.75 }\n    ];\n\n### Parameters\n\n* data - the data to write (Array of {t, id, v} or {t, key, v} Objects)\n\n### Returns\n\nThe return body is either empty on success (response code will be 200) or contains a list of response objects in event of a single or multi-point failure (response code will be 207). Each response object contains a status code and an Array of error messages. This Array has a one to one correspondence with the original Array. For example if you submitted this Array:\n\n    data = [\n        { t: new Date(\"2012-01-12 14:11:00\"), v: 123.4},\n        { t: new Date(\"2012-01-12 14:11:00\"), key: \"your- custom-key\", v:531},\n        {}\n    ]\n\nYou would recieve a 207 in the response code and this Array in the response body:\n\n    {\n      multistatus: [\n        { status: \"422\", messages: [ \"Must provide a series ID or key\" ] },\n        { status: \"200\", messages: [] },\n        { status: \"422\", messages: [\n                                    \"Must provide a numeric value\",\n                                    \"Must provide a series ID or key\"\n                                   ]\n        }\n      ]\n    }\n\n### Example\n\nThe following example increments 5 separate series at the same timestamp.\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result.response+': '+ JSON.stringify(result.body)); }\n\n    data = [\n        { t: new Date(\"2012-01-12 14:11:00\"), key: \"your-custom-key\", v: 14 },\n        { t: new Date(\"2012-01-12 14:12:00\"), id: \"01868c1a2aaf416ea6cd8edd65e7a4b8\", v: 27 },\n        { t: new Date(\"2012-01-12 14:13:00\"), key: \"your-custom-key\", v: 1 },\n        { t: new Date(\"2012-01-12 14:13:00\"), key: \"your-custom-key-2\", v: 34 },\n        { t: new Date(\"2012-01-12 14:13:00\"), id: \"38268c3b231f1266a392931e15e99231\", v: -7 },\n    ];\n\n    tempodb.increment_multi(data, cb);\n\n\n## TempoDBClient#delete_id(*series_id*, *start*, *end*, *callback*)\nDeletes a range of data for a series referenced by id between the specified start and end dates. As with the read api, the start date is inclusive and the end date is exclusive. i.e. \\[start, end)\n\n### Parameters\n\n* series_id - id for the series to delete from (string)\n* start - start time for the query (Date, inclusive)\n* end - end time for the query (Date, exclusive)\n\n### Returns\n\nA 200 OK, if successful\n\n### Example\n\nThe following example deletes data for the series with id *6fefeba655504694b21235acf8cdae5f* between 2012-01-01 and 2012-01-14.\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result.response+': '+ JSON.stringify(result.body)); }\n\n    var series_id = '6fefeba655504694b21235acf8cdae5f';\n    series_start_date = new Date('2012-01-01');\n    series_end_date = new Date('2012-01-14');\n\n    tempodb.delete_id(series_id, series_start_date, series_end_date, cb);\n\n\n## TempoDBClient#delete_key(*series_key*, *start*, *end*, *callback*)\nDeletes a range of data from a series referenced by key between the specified start and end dates. As with the read api, the start is inclusive and the end date is exclusive. \\[start, end)\n\n### Parameters\n\n* series_key - key for the series to delete from (string)\n* start - start time for the query (Date, inclusive)\n* end - end time for the query (Date, exclusive)\n\n### Returns\n\nA 200 OK, if successful\n\n### Example\n\nThe following example deletes data for the series with key *your-custom-key* between 2012-01-01 and 2012-01-14.\n\n    var TempoDBClient = require('tempodb').TempoDBClient;\n    var tempodb = new TempoDBClient('your-api-key', 'your-api-secret');\n    var cb = function(result){ console.log(result.response+': '+ JSON.stringify(result.body)); }\n\n    var series_key = 'your-custom-key';\n    series_start_date = new Date('2012-01-01');\n    series_end_date = new Date('2012-01-14');\n\n    tempodb.delete_key(series_key, series_start_date, series_end_date, cb);\n",
  "readmeFilename": "README.markdown",
  "_id": "tempodb@0.5.0",
  "dist": {
    "shasum": "cfd8e196f3a32dc3dbddadc7ff694b58291d244f"
  },
  "_from": "tempodb@",
  "_resolved": "https://registry.npmjs.org/tempodb/-/tempodb-0.5.0.tgz"
}
